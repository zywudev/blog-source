---
title: 垃圾收集的算法有哪些？
date: 2019-01-15 14:13:32
tags:
---

## 标记清除（Mark-Sweep）算法

首先进行标记工作，标识出所有要回收的对象，然后进行统一回收被标记的对象。

对象标记的过程在 [Java 对象的自我救赎](http://wuzhangyang.com/2019/01/14/java-object-self-redemption/) 一文中有介绍。

**它的不足之处在于**：

1、标记、清除的效率都不高。

2、清除后产生大量的内存碎片，空间碎片太多会导致在分配大对象时无法找到足够大的连续内存，从而不得不触发另一次垃圾回收动作。

## 复制（Copying）算法

将可用内存按容量分成大小相等的两块，每次只使用其中的一块。

当这一块内存用完了，就将还存活的对象复制到另外一块上面，再把已使用过的内存空间一次清理掉。

现在商用虚拟机都采用这种算法回收新生代的对象。因为新生代的对象每次回收都基本上只有 10% 左右的对象存活，需要复制的对象少，效率高。

**优点**：

因为是对整个半区进行内存回收，内存分配时不用考虑内存碎片等复制情况。实现简单，效率较高。

**不足之处**：

既然要复制，需要提前预留内存空间，有一定的浪费。